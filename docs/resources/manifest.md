---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "k8sconnect_manifest Resource - terraform-provider-k8sconnect"
subcategory: ""
description: |-
  Applies a single‑document Kubernetes YAML manifest to a cluster, with per‑resource inline or kubeconfig‑based connection settings.
---

# k8sconnect_manifest (Resource)

Applies a single‑document Kubernetes YAML manifest to a cluster, with per‑resource inline or kubeconfig‑based connection settings.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_connection` (Attributes) Kubernetes cluster connection for this specific resource. Can be different per-resource, enabling multi-cluster deployments without provider aliases. Supports inline credentials (token, exec, client certs) or kubeconfig. (see [below for nested schema](#nestedatt--cluster_connection))
- `yaml_body` (String) UTF-8 encoded, single-document Kubernetes YAML. Multi-doc files will fail validation.

### Optional

- `delete_protection` (Boolean) Prevent accidental deletion of the resource. If set to true, the resource cannot be deleted unless this field is set to false.
- `delete_timeout` (String) How long to wait for a resource to be deleted before considering the deletion failed. Defaults to 300s (5 minutes).
- `force_destroy` (Boolean) Force deletion by removing finalizers. ⚠️ **WARNING**: Unlike other providers, this REMOVES finalizers after timeout. May cause data loss and orphaned cloud resources. See docs before using.
- `ignore_fields` (List of String) Field paths to exclude from management. On Create, fields are sent to establish initial state; on Update, they're omitted from the Apply patch, releasing ownership to other controllers and excluding them from drift detection. Supports dot notation (e.g., 'metadata.annotations', 'spec.replicas'), array indices ('webhooks[0].clientConfig.caBundle'), and strategic merge keys ('spec.containers[name=nginx].image'). Use for fields managed by controllers (e.g., HPA modifying replicas) or when operators inject values.
- `wait_for` (Attributes) Wait for resource to reach desired state during apply. Automatically enables status tracking. (see [below for nested schema](#nestedatt--wait_for))

### Read-Only

- `field_ownership` (Map of String) Tracks which controller owns each managed field using Server-Side Apply field management. Shows as a map of 'field.path': 'controller-name'. Only appears in plan diffs when ownership actually changes (e.g., when HPA takes ownership of spec.replicas). Empty/hidden when ownership is unchanged. Critical for understanding SSA conflicts and knowing which controller controls what.
- `id` (String) Unique identifier for this manifest (generated by the provider).
- `managed_state_projection` (String) Snapshot of resource state from the last Server-Side Apply dry-run, containing only fields managed by k8sconnect. When this differs from current cluster state, it indicates drift - someone modified your managed fields outside Terraform. During plan, diffs in this attribute show exactly what Kubernetes will change when you apply, computed via dry-run for accuracy. This enables precise drift detection without false positives from fields managed by other controllers.
- `status` (Dynamic) Resource status from the cluster, populated only when using wait_for with field='status.path'. Contains resource-specific runtime information like LoadBalancer IPs, Pod conditions, Deployment replicas. Follows the principle: 'You get only what you wait for' to avoid storing volatile status fields that cause drift. Returns null when wait_for is not configured or uses non-field wait types.

<a id="nestedatt--cluster_connection"></a>
### Nested Schema for `cluster_connection`

Optional:

- `client_certificate` (String, Sensitive) Client certificate for TLS authentication. Accepts PEM format or base64-encoded PEM - automatically detected.
- `client_key` (String, Sensitive) Client certificate key for TLS authentication. Accepts PEM format or base64-encoded PEM - automatically detected.
- `cluster_ca_certificate` (String, Sensitive) Root certificate bundle for TLS authentication. Accepts PEM format or base64-encoded PEM - automatically detected.
- `context` (String) Context to use from the kubeconfig.
- `exec` (Attributes) Configuration for exec-based authentication. (see [below for nested schema](#nestedatt--cluster_connection--exec))
- `host` (String) The hostname (in form of URI) of the Kubernetes API server.
- `insecure` (Boolean) Whether server should be accessed without verifying the TLS certificate.
- `kubeconfig` (String, Sensitive) Raw kubeconfig file content.
- `proxy_url` (String) URL of the proxy to use for requests.
- `token` (String, Sensitive) Token to authenticate to the Kubernetes API server.

<a id="nestedatt--cluster_connection--exec"></a>
### Nested Schema for `cluster_connection.exec`

Required:

- `api_version` (String) API version to use when encoding the ExecCredentials resource.
- `command` (String) Command to execute.

Optional:

- `args` (List of String) Arguments to pass when executing the plugin.
- `env` (Map of String) Environment variables to set when executing the plugin.



<a id="nestedatt--wait_for"></a>
### Nested Schema for `wait_for`

Optional:

- `condition` (String) Condition type that must be True. Example: 'Ready'
- `field` (String) JSONPath to field that must exist/be non-empty. Example: 'status.loadBalancer.ingress'
- `field_value` (Map of String) Map of JSONPath to expected value. Example: {'status.phase': 'Running'}
- `rollout` (Boolean) Wait for Deployment/StatefulSet/DaemonSet to complete rollout before considering the resource ready. Optional - rollout waiting is not automatic. Checks that all replicas are updated and available.
- `timeout` (String) Maximum time to wait. Defaults to 10m. Format: '30s', '5m', '1h'
